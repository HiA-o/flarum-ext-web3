{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@blomstra/web3/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@blomstra/web3/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@blomstra/web3/./node_modules/@babel/runtime/regenerator/index.js","webpack://@blomstra/web3/webpack/bootstrap","webpack://@blomstra/web3/webpack/runtime/compat get default export","webpack://@blomstra/web3/webpack/runtime/define property getters","webpack://@blomstra/web3/webpack/runtime/hasOwnProperty shorthand","webpack://@blomstra/web3/webpack/runtime/make namespace object","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/app']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/extend']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/LogInButtons']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/SignUpModal']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@blomstra/web3/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@blomstra/web3/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@blomstra/web3/external root \"flarum.core.compat['common/Model']\"","webpack://@blomstra/web3/./src/forum/models/Web3Account.ts","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/LogInButton']\"","webpack://@blomstra/web3/./src/forum/components/LogInButton.tsx","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/LogInModal']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/Button']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/Link']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/Component']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@blomstra/web3/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@blomstra/web3/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@blomstra/web3/./src/forum/components/WalletAccounts.tsx","webpack://@blomstra/web3/./src/forum/components/PolkadotConnectWalletModal.tsx","webpack://@blomstra/web3/./src/forum/utils/getProvider.ts","webpack://@blomstra/web3/./src/forum/components/EvmConnectWalletModal.tsx","webpack://@blomstra/web3/./src/forum/components/ConnectWalletModal.tsx","webpack://@blomstra/web3/./src/forum/components/SignUpModal.tsx","webpack://@blomstra/web3/./src/forum/components/LogInModal.tsx","webpack://@blomstra/web3/./src/forum/states/Web3AccountsState.ts","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@blomstra/web3/./src/forum/components/AttachedWallets.tsx","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/HeaderSecondary']\"","webpack://@blomstra/web3/./src/forum/states/Web3ModulesState.ts","webpack://@blomstra/web3/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@blomstra/web3/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@blomstra/web3/external root \"flarum.core.compat['forum/components/ChangeEmailModal']\"","webpack://@blomstra/web3/./src/forum/components/ChangeEmailModal.tsx","webpack://@blomstra/web3/external root \"flarum.core.compat['common/models/User']\"","webpack://@blomstra/web3/./src/forum/index.tsx","webpack://@blomstra/web3/./src/forum/components/alertNoEmail.js"],"sourcesContent":["var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LogInButtons'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/SignUpModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/SettingsPage'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Web3Account extends Model {\n  /** Hex String **/\n  address() {\n    return Model.attribute<string>('address').call(this);\n  }\n\n  source() {\n    return Model.attribute<string>('source').call(this);\n  }\n\n  type() {\n    return Model.attribute<'sr25519' | 'eth'>('type').call(this);\n  }\n\n  protected apiEndpoint(): string {\n    return super.apiEndpoint().replace('/web3-accounts', '/web3/accounts');\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LogInButton'];","import BaseLogInButton from 'flarum/forum/components/LogInButton';\n\nexport default class LogInButton extends BaseLogInButton {\n  static initAttrs(attrs: { className: string }) {\n    attrs.className = (attrs.className || '') + ' LogInButton';\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LogInModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import Component, { ComponentAttrs } from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport app from 'flarum/forum/app';\nimport classList from 'flarum/common/utils/classList';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Web3Account from '../models/Web3Account';\nimport type { Wallet, WalletAccount } from '@subwallet/wallet-connect/types';\nimport type RequestError from 'flarum/common/utils/RequestError';\nimport type Mithril from 'mithril';\n\nexport interface IWalletAccountsAttrs extends ComponentAttrs {\n  username: string;\n  wallet: Wallet;\n  onback: () => void;\n  onattach?: (address: string, signature: string, source?: string, type?: string) => void;\n}\n\nexport default class WalletAccounts<CustomAttrs extends IWalletAccountsAttrs = IWalletAccountsAttrs> extends Component<CustomAttrs> {\n  private accounts: WalletAccount[] | null = null;\n  private loading = false;\n\n  view() {\n    if (this.accounts === null) {\n      this.attrs.wallet.getAccounts().then((accs) => {\n        this.accounts = accs || [];\n        m.redraw();\n      });\n\n      return <LoadingIndicator />;\n    }\n\n    return (\n      <div className={classList('WalletAccounts', { 'WalletAccounts--loading': this.loading })}>\n        <div className=\"Form--centered\">\n          <Button className=\"Button Button--text Button--block WalletAccounts-goback\" icon=\"fas fa-arrow-left\" onclick={() => this.attrs.onback()}>\n            {app.translator.trans('maojindao55-web3.forum.polkadot-connect-wallet-modal.goback')}\n          </Button>\n        </div>\n        <div className=\"WalletAccounts-selectedWallet\">\n          <div className=\"WalletAccounts-selectedWallet-title\">{this.attrs.wallet.title}</div>\n          <div className=\"WalletAccounts-selectedWallet-list\">\n            {this.accounts?.map((account, accountIndex) => this.accountView(account, accountIndex))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  accountView(account: WalletAccount, accountIndex: number) {\n    const { u8aToHex, decodeAddress } = app.web3.loadedModules();\n\n    const isAttached = app.web3accounts.exists(u8aToHex(decodeAddress(account.address)));\n\n    let bindMessage = 'maojindao55-web3.forum.polkadot-connect-wallet-modal.';\n\n    switch (isAttached) {\n      case true:\n        bindMessage += 'unattach_address';\n        break;\n      case false:\n        if (app.session.user) bindMessage += 'attach_address';\n        // For Login/Signup processes.\n        else bindMessage += 'select';\n    }\n\n    return (\n      <div\n        key={accountIndex}\n        className={classList('WalletAccounts-account', {\n          'WalletAccounts-account--attached': isAttached,\n          'WalletAccounts-account--unattached': !isAttached,\n        })}\n      >\n        <div className=\"WalletAccounts-account-info\">\n          <div className=\"WalletAccounts-account-title\">{account.name}</div>\n          <div className=\"WalletAccounts-account-address\">{account.address}</div>\n        </div>\n        <div className=\"WalletAccounts-account-actions\">\n          <Tooltip text={app.translator.trans(bindMessage)}>\n            <Button\n              className={classList('Button Button--icon', { 'Button--primary': !isAttached, 'Button--danger': isAttached })}\n              icon={isAttached ? 'fas fa-unlink' : 'fas fa-plus'}\n              onclick={!isAttached ? this.connectAccount.bind(this, account) : this.disconnectAccount.bind(this, account.address)}\n            />\n          </Tooltip>\n        </div>\n      </div>\n    );\n  }\n\n  async connectAccount(account: WalletAccount) {\n    const wallet = account.wallet!;\n\n    if (!this.loading) {\n      this.loading = true;\n      m.redraw();\n    }\n\n    await wallet.enable();\n\n    if (wallet.signer) {\n      const { stringToHex, u8aToHex, decodeAddress } = await app.web3.all();\n\n      try {\n        const signer = wallet.signer;\n\n        // Trigger the extension popup\n        const { signature } = await signer.signRaw!({\n          type: 'bytes',\n          data: stringToHex(this.attrs.username),\n          address: account.address,\n        });\n\n        const hexAddress = u8aToHex(decodeAddress(account.address));\n        // @ts-ignore\n        const type = account.type;\n        const source = this.attrs.wallet.extensionName;\n\n        if (app.session.user) {\n          // Submit account to the backend\n          const savedAccount = await app.store.createRecord<Web3Account>('web3-accounts').save(\n            {\n              address: hexAddress,\n              source,\n              type,\n            },\n            {\n              errorHandler: this.onerror.bind(this),\n              meta: {\n                signature,\n              },\n            }\n          );\n\n          app.web3accounts.push(savedAccount);\n        }\n\n        if (this.attrs.onattach) this.attrs.onattach(hexAddress, signature, source, type);\n      } catch (error: any) {\n        app.alerts.show({ type: 'error' }, app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.could-not-sign'));\n        app.alerts.show({ type: 'error' }, error.message);\n      }\n\n      this.loading = false;\n      m.redraw();\n    }\n  }\n\n  async disconnectAccount(address: string) {\n    const { u8aToHex, decodeAddress } = await app.web3.all();\n    address = u8aToHex(decodeAddress(address));\n    await app.store.getBy<Web3Account>('web3-accounts', 'address', address)?.delete();\n    app.web3accounts.remove(address);\n    m.redraw();\n  }\n\n  onerror(error: RequestError) {\n    if (error.status === 401) {\n      app.alerts.show({ type: 'error' }, app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.signature-invalid'));\n    } else {\n      throw error;\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport Link from 'flarum/common/components/Link';\nimport Component, { ComponentAttrs } from 'flarum/common/Component';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport WalletAccounts from './WalletAccounts';\nimport type { IConnectWalletModalAttrs } from './ConnectWalletModal';\nimport type { Wallet } from '@subwallet/wallet-connect/types';\nimport type Mithril from 'mithril';\n\nexport interface WalletKind {\n  key: string;\n  title: string;\n  wallets: Wallet[];\n}\n\nexport interface IPolkadotConnectWalletModalAttrs extends IConnectWalletModalAttrs {}\n\nexport default class PolkadotConnectWalletModal<\n  CustomAttrs extends IPolkadotConnectWalletModalAttrs = IPolkadotConnectWalletModalAttrs\n> extends Component<CustomAttrs> {\n  private selectedWallet: Wallet | null = null;\n\n  className() {\n    return 'PolkadotConnectWalletModal';\n  }\n\n  title() {\n    return app.translator.trans('maojindao55-web3.forum.polkadot-connect-wallet-modal.title');\n  }\n\n  view() {\n    if (!app.web3.loaded) {\n      app.web3.load().then(() => m.redraw());\n      return <LoadingIndicator />;\n    }\n\n    return <div className=\"Form\">{this.selectedWallet ? this.selectedWalletView() : this.walletSelectionView()}</div>;\n  }\n\n  walletSelectionView() {\n    return this.walletKindItems().toArray();\n  }\n\n  walletKindItems() {\n    const items = new ItemList<Mithril.Children>();\n\n    const { getDotsamaWallets } = app.web3.loadedModules();\n\n    const wallets: WalletKind = {\n      key: 'polkadot',\n      title: 'Polkadot',\n      wallets: getDotsamaWallets(),\n    };\n\n    items.add('polkadot', <div className=\"Form-group\">{this.walletKindView(wallets)}</div>);\n\n    return items;\n  }\n\n  walletKindView(walletKind: WalletKind, index: number = 0) {\n    return (\n      <div className=\"ConnectWalletModal-walletKind\" key={index}>\n        <div className=\"ConnectWalletModal-walletKind-title\">{walletKind.title}</div>\n        <div className=\"ConnectWalletModal-walletKind-list\">\n          {walletKind.wallets.map((wallet, walletIndex) => this.walletView(wallet, walletIndex))}\n        </div>\n      </div>\n    );\n  }\n\n  walletView(wallet: Wallet, walletIndex: number = 0) {\n    const Tag = wallet.installed ? Button : Link;\n    let attrs: ComponentAttrs;\n\n    if (!wallet.installed) {\n      attrs = {\n        href: wallet.installUrl,\n        target: '_blank',\n        rel: 'noopener noreferrer',\n      };\n    } else {\n      attrs = {\n        onclick: this.listWalletAccounts.bind(this, wallet),\n      };\n    }\n\n    return (\n      <Tag className=\"Button PolkadotConnectWalletModal-wallet\" key={walletIndex} {...attrs}>\n        <div className=\"PolkadotConnectWalletModal-wallet-logo\">\n          <img {...wallet.logo} alt=\"\" />\n        </div>\n        <div className=\"PolkadotConnectWalletModal-wallet-title\">{wallet.title}</div>\n        <div className=\"PolkadotConnectWalletModal-wallet-indicator\">{wallet.installed ? icon('fas fa-arrow-right') : icon('fas fa-download')}</div>\n      </Tag>\n    );\n  }\n\n  selectedWalletView() {\n    return (\n      <WalletAccounts\n        username={this.attrs.username}\n        wallet={this.selectedWallet}\n        onback={this.listWallets.bind(this)}\n        onattach={this.attrs.onattach}\n      />\n    );\n  }\n\n  listWallets() {\n    this.selectedWallet = null;\n  }\n\n  listWalletAccounts(wallet: Wallet) {\n    this.selectedWallet = wallet;\n  }\n}\n","import app from 'flarum/forum/app';\n\nexport default async function getProvider() {\n  const INFURA_ID = app.forum.attribute<string | undefined>('maojindao55-web3.infura-project-id');\n\n  const { Web3Modal, CoinbaseWalletSDK, WalletConnectProvider } = await app.web3.all();\n\n  const providerOptions = {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        infuraId: INFURA_ID,\n      },\n    },/*\n    coinbasewallet: {\n      package: CoinbaseWalletSDK,\n      options: {\n        appName: 'My Awesome App',\n        infuraId: INFURA_ID,\n      },\n    },\n\n    binancechainwallet: {\n      package: true,\n    },\n    opera: {\n      package: true,\n    },*/\n  };\n\n  return new Web3Modal({\n    providerOptions,\n  });\n}\n","import app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport { IConnectWalletModalAttrs } from './ConnectWalletModal';\nimport Web3Account from '../models/Web3Account';\nimport getProvider from '../utils/getProvider';\nimport type Core from 'web3modal';\nimport type Mithril from 'mithril';\nimport Component from 'flarum/common/Component';\n\n// import { W3mModal, W3mConnectButton } from '@web3modal/ui';\n// import { ClientCtrl, ConfigCtrl, ConfigOptions } from '@web3modal/core';\n// import { chains, providers } from '@web3modal/ethereum';\n\n// const projectId = '5bae682417f3958e125f25a0b67535e7';\n//\n// const config: ConfigOptions = {\n//   projectId,\n//   theme: 'dark',\n//   accentColor: 'default',\n//   ethereum: {\n//     appName: 'web3Modal',\n//     autoConnect: true,\n//     chains: [chains.mainnet, chains.rinkeby, chains.avalanche, chains.avalancheFuji, chains.polygon, chains.polygonMumbai],\n//     providers: [providers.walletConnectProvider({ projectId })],\n//   },\n// };\n\n// class Web3Modal extends Component {\n//   async oninit(vnode: Mithril.Vnode<any, this>) {\n//     super.oninit(vnode);\n//\n//     // ConfigCtrl.setConfig(config);\n//     // if (config.ethereum) await ClientCtrl.setEthereumClient(config.ethereum);\n//   }\n//\n//   view(): Mithril.Children {\n//     return <w3m-modal />;\n//   }\n// }\n\nexport interface IEvmConnectWalletModalAttrs extends IConnectWalletModalAttrs {}\n\nexport default class EvmConnectWalletModal<\n  CustomAttrs extends IEvmConnectWalletModalAttrs = IEvmConnectWalletModalAttrs\n> extends Component<CustomAttrs> {\n  private web3Modal!: Core;\n  private provider?: any;\n  private __providerName?: string;\n  private currentAddress?: string;\n\n  oninit(vnode: Mithril.Vnode<CustomAttrs, this>) {\n    super.oninit(vnode);\n\n    app.web3accounts.load();\n  }\n\n  className(): string {\n    return 'EvmConnectWalletModal';\n  }\n\n  title(): Mithril.Children {\n    return app.translator.trans('maojindao55-web3.forum.evm-connect-wallet-modal.title');\n  }\n\n  view() {\n    if (!this.currentAddress) {\n      this.getProvider()\n        .then(async (provider) => {\n          try {\n            this.currentAddress = (await provider.request({ method: 'eth_requestAccounts' }))[0];\n            console.log(this.currentAddress, \"xxxx\")\n            this.bind()\n          } catch (error) {\n            app.modal.close();\n          }\n\n          m.redraw();\n        })\n        .catch(() => app.modal.close());\n\n      return <LoadingIndicator />;\n    }\n\n    return (\n      <div className=\"ConnectWalletModal-walletKind\">\n        <div className=\"ConnectWalletModal-walletKind-title\">EVM</div>\n        <div className=\"Form-group\">\n          <label>{this.currentAddress}</label>\n          {app.web3accounts.exists(this.currentAddress) ? (\n            <>\n              <Button className=\"Button\" onclick={() => this.disconnect(false)}>\n                {app.translator.trans('maojindao55-web3.forum.evm-connect-wallet-modal.disconnect')}\n              </Button>\n              <Button className=\"Button\" onclick={() => this.disconnect(true)}>\n                {app.translator.trans('maojindao55-web3.forum.evm-connect-wallet-modal.disconnect-and-unbind')}\n              </Button>\n            </>\n          ) : (\n            <Button className=\"Button\" onclick={this.bind.bind(this)}>\n              {app.translator.trans(\n                app.session.user ? 'maojindao55-web3.forum.evm-connect-wallet-modal.bind' : 'maojindao55-web3.forum.evm-connect-wallet-modal.select'\n              )}\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  async bind() {\n    const provider = this.provider;\n\n    try {\n      const signature = await provider.request({\n        method: 'personal_sign',\n        params: [this.attrs.username, this.currentAddress],\n      });\n\n      const { getProviderInfo } = await app.web3.all();\n\n      const type = 'eth';\n      // Special handling required for binance wallet as it doesn't identify itself with a check of `isBinanceWallet`\n      const source = this.__providerName === 'binancechainwallet' ? 'Binance Chain' : getProviderInfo(provider).name;\n\n      if (app.session.user) {\n        // Submit account to the backend\n        const savedAccount = await app.store.createRecord<Web3Account>('web3-accounts').save(\n          {\n            address: this.currentAddress,\n            source,\n            type,\n          },\n          {\n            errorHandler: this.attrs.onerror.bind(this),\n            meta: {\n              signature,\n            },\n          }\n        );\n\n        app.web3accounts.push(savedAccount);\n      }\n\n      if (this.attrs.onattach) this.attrs.onattach(this.currentAddress!, signature, source, type);\n    } catch (error: any) {\n      app.alerts.show({ type: 'error' }, app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.could-not-sign'));\n      app.alerts.show({ type: 'error' }, error.message);\n    }\n\n    m.redraw();\n  }\n\n  async disconnect(unbind: boolean) {\n    const provider = this.provider;\n\n    if (provider?.close) {\n      await provider.close();\n\n      await this.web3Modal.clearCachedProvider();\n    }\n\n    const address = this.currentAddress;\n\n    if (unbind) {\n      await app.web3accounts.remove(address!);\n    }\n\n    delete this.currentAddress;\n  }\n\n  async getProvider() {\n    if (!this.web3Modal) {\n      this.web3Modal = await getProvider();\n    }\n\n    this.web3Modal.on('select', (providerName: string) => {\n      this.__providerName = providerName;\n    });\n\n    const provider = await this.web3Modal.connect();\n\n    provider.on('accountsChanged', (accounts: string[]) => {\n      this.currentAddress = accounts[0];\n      m.redraw();\n    });\n\n    return (this.provider = provider);\n  }\n}\n","import type Mithril from 'mithril';\nimport Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport app from 'flarum/forum/app';\nimport PolkadotConnectWalletModal from './PolkadotConnectWalletModal';\nimport EvmConnectWalletModal from './EvmConnectWalletModal';\n\nexport interface IConnectWalletModalAttrs extends IInternalModalAttrs {\n  username: string;\n  onattach?: (address: string, signature: string, source: string, type: string) => void;\n  onclose: Function;\n}\n\ntype WalletTypeName = 'evm' | 'polkadot';\n\nconst nameToComponent: Record<WalletTypeName, ComponentClass> = {\n  evm: EvmConnectWalletModal,\n  polkadot: PolkadotConnectWalletModal,\n};\n\nexport default class ConnectWalletModal<CustomAttrs extends IConnectWalletModalAttrs = IConnectWalletModalAttrs> extends Modal<CustomAttrs> {\n  private current: WalletTypeName | null = null;\n\n  hide() {\n    this.attrs.onclose();\n    super.hide();\n  }\n\n  className(): string {\n    return 'ConnectWalletModal';\n  }\n\n  title(): Mithril.Children {\n    return app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.title');\n  }\n\n  content(): Mithril.Children {\n    if (this.current || (this.current = \"evm\")) {\n      const ComponentName = nameToComponent[this.current];\n\n      return (\n        <div className=\"Modal-body\">\n          <div className=\"Form--centered\" key={1}>\n            <Button\n              className=\"Button Button--text Button--block WalletAccounts-goback\"\n              icon=\"fas fa-arrow-left\"\n              onclick={() => (this.current = null)}\n            >\n              {app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.goback')}\n            </Button>\n          </div>\n          <ComponentName onerror={this.onerror.bind(this)} {...this.attrs} key={this.current} />\n        </div>\n      );\n    }\n\n    return <div className=\"Modal-body\">{this.selectionView()}</div>;\n  }\n\n  selectionView() {\n    return (\n      <div className=\"Form Form--centered\">\n        <div className=\"Form-group\">\n          <Button className=\"Button maojindao55-web3-Button--polkadot Button--block\" onclick={() => (this.current = 'polkadot')}>\n            {app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.polkadot-wallets')}\n          </Button>\n          <Button className=\"Button maojindao55-web3-Button--evm Button--block\" onclick={() => (this.current = 'evm')}>\n            {app.translator.trans('maojindao55-web3.forum.connect-wallet-modal.evm-wallets')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport BaseSignUpModal from 'flarum/forum/components/SignUpModal';\nimport type ItemList from 'flarum/common/utils/ItemList';\nimport ConnectWalletModal from './ConnectWalletModal';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport LogInModal from './LogInModal';\n\nexport default class SignUpModal extends BaseSignUpModal {\n  title() {\n    return app.translator.trans('maojindao55-web3.forum.sign-up.with-wallet');\n  }\n\n  content() {\n    return [\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">{this.fields().toArray()}</div>\n      </div>,\n      <div className=\"Modal-footer\">{this.footer()}</div>,\n    ];\n  }\n\n  fields(): ItemList<unknown> {\n    const items = super.fields();\n\n    const signUpWithEmail = app.forum.attribute<boolean>('maojindao55-web3.signup-with-email');\n\n    items.remove('password');\n\n    if (!signUpWithEmail) {\n      items.remove('email');\n      // user not need input the username\n      items.remove('username');\n    }\n\n    items.setContent(\n      'submit',\n      <Button\n        className=\"Button Button--block Button--primary\"\n        type=\"submit\"\n        disabled={false}\n        loading={this.loading}\n      >\n        {app.translator.trans('maojindao55-web3.forum.sign-up.select-wallet-account', {\n          rightArrow: icon('fas fa-arrow-right'),\n        })}\n      </Button>\n    );\n\n    return items;\n  }\n\n  footer() {\n    return [\n      app.forum.attribute('allowSignUp') ? (\n        <p className=\"LogInModal-forgotPassword\">\n          <a onclick={() => app.modal.show(BaseSignUpModal)}>{app.translator.trans('maojindao55-web3.forum.sign-up.basic-signup-link')}</a>\n        </p>\n      ) : (\n        <></>\n      ),\n\n      <p className=\"SignUpModal-logIn\">\n        {app.translator.trans('core.forum.sign_up.log_in_text', { a: <a onclick={() => app.modal.show(LogInModal)} /> })}\n      </p>,\n    ];\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.loading = true;\n    this.username('user-airdrop')\n    console.log(e, this.username())\n    app.modal.show(\n      ConnectWalletModal,\n      {\n        username: this.username(),\n        onattach: (address: string, signature: string, source: string, type: string) => {\n          app.modal.close();\n\n          app\n            .request({\n              method: 'POST',\n              url: app.forum.attribute('baseUrl') + '/web3/register',\n              body: {\n                username: this.username(),\n                email: this.email(),\n                address,\n                signature,\n                type,\n                source,\n              },\n              errorHandler: this.onerror.bind(this),\n            })\n            .then(() => window.location.reload(), this.loaded.bind(this))\n            .finally(() => (this.loading = false));\n        },\n        onclose: () => (this.loading = false),\n      },\n      true\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport BaseLogInModal from 'flarum/forum/components/LogInModal';\nimport type ItemList from 'flarum/common/utils/ItemList';\nimport ConnectWalletModal from './ConnectWalletModal';\nimport Button from 'flarum/common/components/Button';\nimport icon from 'flarum/common/helpers/icon';\nimport SignUpModal from './SignUpModal';\n\nexport default class LogInModal extends BaseLogInModal {\n  title() {\n    return app.translator.trans('maojindao55-web3.forum.log-in.with-wallet');\n  }\n\n  content() {\n    return [\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">{this.fields().toArray()}</div>\n      </div>,\n      <div className=\"Modal-footer\">{this.footer()}</div>,\n    ];\n  }\n\n  fields(): ItemList<unknown> {\n    const items = super.fields();\n\n    items.remove('password');\n    //input\n    items.remove('identification');\n\n    items.setContent(\n      'submit',\n      <Button className=\"Button Button--block Button--primary\" type=\"submit\" disabled={false} loading={this.loading}>\n        {app.translator.trans('maojindao55-web3.forum.log-in.select-wallet-account', {\n          rightArrow: icon('fas fa-arrow-right'),\n        })}\n      </Button>\n    );\n\n    return items;\n  }\n\n  footer() {\n    return [\n      <p className=\"LogInModal-forgotPassword\">\n        <a onclick={() => app.modal.show(BaseLogInModal)}>{app.translator.trans('maojindao55-web3.forum.log-in.basic-login-link')}</a>\n      </p>,\n\n      app.forum.attribute('maojindao55-web3.allow-sign-up') ? (\n        <p className=\"LogInModal-signUp\">\n          {app.translator.trans('core.forum.log_in.sign_up_text', { a: <a onclick={() => app.modal.show(SignUpModal)} /> })}\n        </p>\n      ) : (\n        ''\n      ),\n    ];\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.loading = true;\n    this.identification('user-airdrop')\n\n    app.modal.show(\n      ConnectWalletModal,\n      {\n        username: this.identification(),\n        onattach: (address: string, signature: string) => {\n          app.modal.close();\n          this.identification(address)\n          app\n            .request({\n              method: 'POST',\n              url: app.forum.attribute('baseUrl') + '/web3/login',\n              body: {\n                identification: this.identification(),\n                address,\n                signature,\n                remember: this.remember(),\n              },\n              errorHandler: this.onerror.bind(this),\n            })\n            .then(() => window.location.reload(), this.loaded.bind(this))\n            .finally(() => (this.loading = false));\n        },\n        onclose: () => (this.loading = false),\n      },\n      true\n    );\n  }\n}\n","import Web3Account from '../models/Web3Account';\nimport app from 'flarum/forum/app';\n\nexport default class Web3AccountsState {\n  private accounts: Web3Account[] | null = null;\n\n  loaded() {\n    return this.accounts !== null;\n  }\n\n  load() {\n    return (\n      this.accounts ??\n      app.store.find<Web3Account[]>('web3/accounts').then((accounts) => {\n        this.accounts = accounts;\n        m.redraw();\n      })\n    );\n  }\n\n  exists(address: string) {\n    return this.accounts !== null && this.accounts.some((account) => account.address() === address);\n  }\n\n  all(): Web3Account[] | null {\n    return this.accounts;\n  }\n\n  push(account: Web3Account) {\n    if (this.accounts !== null) {\n      this.accounts.push(account);\n    }\n  }\n\n  remove(address: string) {\n    if (this.accounts !== null) {\n      this.accounts.find((account) => account.address() === address)?.delete();\n      this.accounts = this.accounts.filter((account) => account.address() !== address);\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/FieldSet'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import Component from 'flarum/common/Component';\nimport app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport extractText from 'flarum/common/utils/extractText';\nimport ConnectWalletModal from './ConnectWalletModal';\nimport Web3Account from '../models/Web3Account';\nimport type { IProviderInfo } from 'web3modal';\nimport type { WalletInfo } from '@subwallet/wallet-connect/types';\n\nexport default class AttachedWallets extends Component {\n  view() {\n    if (!app.web3.loaded) {\n      app.web3.load().then(() => m.redraw());\n\n      return <LoadingIndicator />;\n    }\n\n    return (\n      <FieldSet className={`Settings-wallets`} label={app.translator.trans(`maojindao55-web3.forum.settings.wallets_heading`)}>\n        {this.listAccountsView()}\n        <Button\n          icon=\"fas fa-wallet\"\n          className=\"Button\"\n          onclick={() =>\n            app.modal.show(ConnectWalletModal, {\n              username: app.session.user!.username(),\n            })\n          }\n        >\n          {app.translator.trans('maojindao55-web3.forum.settings.wallet-connect-button')}\n        </Button>\n      </FieldSet>\n    );\n  }\n\n  listAccountsView() {\n    if (!app.web3accounts.loaded()) {\n      app.web3accounts.load();\n\n      return <LoadingIndicator />;\n    }\n\n    return (\n      <div className=\"AttachedWallets-list\">\n        {app.web3accounts.all()!.map((account) => {\n          return this.accountView(account);\n        })}\n      </div>\n    );\n  }\n\n  accountView(account: Web3Account) {\n    const isEth = account.type() === 'eth';\n\n    const { getProviderInfoByName, getWalletBySource, encodeAddress, hexToU8a } = app.web3.loadedModules();\n\n    const providerInfo = isEth ? getProviderInfoByName(account.source()) : getWalletBySource(account.source());\n\n    const logoSrc = isEth ? providerInfo?.logo : (providerInfo as WalletInfo)?.logo.src;\n    const walletName = isEth ? (providerInfo as IProviderInfo)?.name : (providerInfo as WalletInfo)?.title;\n    const address = isEth ? account.address() : encodeAddress(hexToU8a(account.address()));\n\n    return (\n      <div className=\"AttachedWallets-account\">\n        <div className=\"AttachedWallets-account-icon\">\n          <img src={logoSrc} alt=\"\" />\n        </div>\n        <div className=\"AttachedWallets-account-content\">\n          <div className=\"AttachedWallets-account-wallet\">{walletName}</div>\n          <div className=\"AttachedWallets-account-address\">{address}</div>\n        </div>\n        <div className=\"AttachedWallets-account-actions\">\n          <Tooltip text={app.translator.trans('maojindao55-web3.forum.settings.unbind')}>\n            <Button className=\"Button Button--icon\" icon=\"fas fa-unlink\" onclick={() => this.unbind(account)} />\n          </Tooltip>\n        </div>\n      </div>\n    );\n  }\n\n  unbind(account: Web3Account) {\n    if (confirm(extractText(app.translator.trans('maojindao55-web3.forum.settings.unbind_confirm')))) {\n      account.delete().then(() => {\n        app.web3accounts.remove(account.address());\n        m.redraw();\n      });\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/HeaderSecondary'];","import app from 'flarum/forum/app';\n\nexport default class Web3ModulesState {\n  public loaded = false;\n  private modules: any = {};\n\n  async load() {\n    if (this.loaded) return;\n\n    this.modules = await import(\n      `${app.forum.attribute('baseUrl')}/assets/extensions/maojindao55-web3/web3.js` /* webpackIgnore: true, webpackPrefetch: true */\n    );\n\n    this.loaded = true;\n  }\n\n  async module<T>(name: string): Promise<T> {\n    await this.load();\n    return this.modules[name];\n  }\n\n  async all(): Promise<any> {\n    await this.load();\n    return this.modules;\n  }\n\n  loadedModules() {\n    return this.modules;\n  }\n}\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ChangeEmailModal'];","import app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport BaseChangeEmailModal from 'flarum/forum/components/ChangeEmailModal';\n\nexport default class ChangeEmailModal extends BaseChangeEmailModal {\n  content() {\n    if (this.success) {\n      return super.content();\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <div className=\"Form-group\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              className=\"FormControl\"\n              placeholder={app.session.user!.email()}\n              bidi={this.email}\n              disabled={this.loading}\n            />\n          </div>\n          <div className=\"Form-group\">\n            {Button.component(\n              {\n                className: 'Button Button--primary Button--block',\n                type: 'submit',\n                loading: this.loading,\n              },\n              app.translator.trans('core.forum.change_email.submit_button')\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e: SubmitEvent) {\n    e.preventDefault();\n\n    // If the user hasn't actually entered a different email address, we don't\n    // need to do anything. Woot!\n    if (this.email() === app.session.user!.email()) {\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n    this.alertAttrs = null;\n\n    app\n      .request({\n        url: app.forum.attribute('apiUrl') + '/web3/set-email',\n        method: 'PUT',\n        body: {\n          data: { email: this.email() },\n        },\n        errorHandler: this.onerror.bind(this),\n      })\n      .then(() => {\n        this.success = true;\n      })\n      .catch(() => {})\n      .then(this.loaded.bind(this));\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport LogInButtons from 'flarum/forum/components/LogInButtons';\nimport BaseSignUpModal from 'flarum/forum/components/SignUpModal';\nimport SettingsPage from 'flarum/forum/components/SettingsPage';\n\nimport Web3Account from './models/Web3Account';\nimport LogInButton from './components/LogInButton';\nimport LogInModal from './components/LogInModal';\nimport SignUpModal from './components/SignUpModal';\nimport Web3AccountsState from './states/Web3AccountsState';\nimport AttachedWallets from './components/AttachedWallets';\nimport HeaderSecondary from 'flarum/forum/components/HeaderSecondary';\nimport Button from 'flarum/common/components/Button';\nimport Web3ModulesState from './states/Web3ModulesState';\nimport alertNoEmail from './components/alertNoEmail';\nimport User from 'flarum/common/models/User';\nimport Model from 'flarum/common/Model';\n\napp.initializers.add('blomstra/web3', () => {\n  app.store.models['web3-accounts'] = Web3Account;\n\n  app.web3 = new Web3ModulesState();\n  app.web3accounts = new Web3AccountsState();\n\n  // @ts-ignore\n  User.prototype.isEmailFake = Model.attribute<boolean>('isEmailFake');\n\n  let alertMounted = false;\n  extend(HeaderSecondary.prototype, 'oncreate', () => {\n    if (!alertMounted) {\n      alertNoEmail(app);\n      alertMounted = true;\n    }\n  });\n  // Session button to bind web3 accounts to current user account.\n  extend(SettingsPage.prototype, 'settingsItems', (items) => {\n    items.add('wallets', <AttachedWallets />, 95);\n  });\n\n  // Modify signup modal to add context to our login modal to be able to tell a login from a sigup.\n  extend(BaseSignUpModal.prototype, 'body', function (vnode) {\n    vnode[0] = !this.attrs.token && <LogInButtons isSignUp={true} />;\n  });\n\n  // Adds a \"Login with web3 account\" login option.\n  extend(LogInButtons.prototype, 'items', function (items) {\n    // @ts-ignore\n    const context = this.attrs.isSignUp ? 'sign-up' : 'log-in';\n\n    if (context === 'sign-up' && !app.forum.attribute<boolean>('maojindao55-web3.allow-sign-up')) {\n      return;\n    }\n\n    items.add(\n      'web3',\n      <LogInButton\n        className=\"Button LogInButton--web3\"\n        icon=\"fas fa-wallet\"\n        // @ts-ignore\n        onclick={() => app.modal.show(this.attrs.isSignUp ? SignUpModal : LogInModal)}\n      >\n        {app.translator.trans(`maojindao55-web3.forum.${context}.with-wallet`)}\n      </LogInButton>\n    );\n  });\n\n  // Open Web3 Auth Modals by default\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    if (app.session.user) return;\n\n    if (\n      (app.forum.attribute<boolean>('maojindao55-web3.prioritize-web3-auth-modals') && app.forum.attribute<boolean>('maojindao55-web3.allow-sign-up')) ||\n      (app.forum.attribute<boolean>('maojindao55-web3.allow-sign-up') && !app.forum.attribute<boolean>('allowSignUp'))\n    ) {\n      if (items.has('signUp')) {\n        items.remove('signUp');\n      }\n\n      items.add(\n        'signUp',\n        <Button className=\"Button Button--link\" onclick={() => app.modal.show(SignUpModal)}>\n          {app.translator.trans('core.forum.header.sign_up_link')}\n        </Button>,\n        10\n      );\n    }\n\n    if (app.forum.attribute<boolean>('maojindao55-web3.prioritize-web3-auth-modals') && items.has('logIn')) {\n      items.get('logIn').attrs.onclick = () => app.modal.show(LogInModal);\n    }\n  });\n});\n","import Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport ChangeEmailModal from './ChangeEmailModal';\n\n/**\n * Shows an alert if the user signed up with no email address.\n */\nexport default function alertNoEmail(app) {\n  const user = app.session.user;\n  let message = app.forum.attribute('maojindao55-web3.no-email-signup-message');\n\n  if (!message || !user || !user.isEmailFake()) return;\n\n  class ContainedAlert extends Alert {\n    view(vnode) {\n      const vdom = super.view(vnode);\n      return { ...vdom, children: [<div className=\"container\">{vdom.children}</div>] };\n    }\n  }\n\n  const control = (label) => (\n    <Button class=\"Button Button--text Button--link\" onclick={() => app.modal.show(ChangeEmailModal)}>\n      {label}\n    </Button>\n  );\n\n  // Extract the label from the message from [link][/link] tags.\n  const label = message.match(/\\[link](.*?)\\[\\/link]/)[1];\n  // Split the message into two parts, before and after the link.\n  const parts = message.split(`[link]${label}[/link]`);\n  // Replace the link with a button.\n  message = [parts[0], control(label), parts[1]];\n\n  m.mount($('<div class=\"App-notices\"/>').insertBefore('#content')[0], {\n    view: () => (\n      <ContainedAlert dismissible={false} className=\"Alert--emailFake\">\n        {message}\n      </ContainedAlert>\n    ),\n  });\n}\n"],"names":["_typeof","require","_regeneratorRuntime","module","exports","e","__esModule","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","get","obj","prop","flarum","core","compat","_setPrototypeOf","bind","_inheritsLoose","Web3Account","_Model","apply","arguments","_proto","address","Model","source","apiEndpoint","replace","LogInButton","_BaseLogInButton","initAttrs","attrs","className","BaseLogInButton","asyncGeneratorStep","_asyncToGenerator","_next","_throw","WalletAccounts","_Component","_this","_len","args","Array","_key","concat","accounts","loading","view","_this$accounts","_this2","wallet","getAccounts","accs","m","redraw","LoadingIndicator","classList","Button","icon","onclick","onback","app","trans","title","map","account","accountIndex","accountView","_app$web3$loadedModul","loadedModules","u8aToHex","decodeAddress","isAttached","exists","bindMessage","user","Tooltip","text","disconnectAccount","connectAccount","_connectAccount","_callee","_yield$app$web3$all","stringToHex","signer","_yield","signature","hexAddress","savedAccount","_context","enable","all","signRaw","data","username","extensionName","createRecord","save","errorHandler","onerror","meta","onattach","t0","show","message","_x","_disconnectAccount","_callee2","_app$store$getBy","_yield$app$web3$all2","_context2","getBy","remove","_x2","error","status","Component","PolkadotConnectWalletModal","selectedWallet","loaded","selectedWalletView","walletSelectionView","load","walletKindItems","toArray","items","ItemList","wallets","getDotsamaWallets","add","walletKindView","walletKind","index","walletIndex","walletView","Tag","installed","Link","listWalletAccounts","href","installUrl","target","rel","assign","logo","alt","listWallets","getProvider","_getProvider","INFURA_ID","Web3Modal","WalletConnectProvider","providerOptions","attribute","CoinbaseWalletSDK","walletconnect","package","options","infuraId","nameToComponent","evm","EvmConnectWalletModal","web3Modal","provider","__providerName","currentAddress","oninit","vnode","'['","disconnect","_ref","request","console","log","close","_bind","getProviderInfo","params","_disconnect","_callee3","unbind","_context3","clearCachedProvider","_getProvider2","_callee4","_this3","_context4","on","providerName","connect","polkadot","ConnectWalletModal","_Modal","current","hide","onclose","content","ComponentName","selectionView","Modal","SignUpModal","_BaseSignUpModal","fields","footer","signUpWithEmail","setContent","disabled","rightArrow","BaseSignUpModal","LogInModal","onsubmit","preventDefault","stopPropagation","url","body","email","window","location","reload","_BaseLogInModal","BaseLogInModal","identification","remember","Web3AccountsState","find","some","_this$accounts$find","filter","AttachedWallets","FieldSet","label","listAccountsView","isEth","getProviderInfoByName","getWalletBySource","encodeAddress","hexToU8a","providerInfo","logoSrc","src","walletName","confirm","extractText","Web3ModulesState","modules","_load","import","_module","_all","_extends","ChangeEmailModal","_BaseChangeEmailModal","success","placeholder","bidi","alertAttrs","BaseChangeEmailModal","models","User","isEmailFake","alertMounted","extend","HeaderSecondary","session","forum","ContainedAlert","_Alert","vdom","children","Alert","match","parts","split","class","modal","control","mount","$","insertBefore","dismissible","alertNoEmail","SettingsPage","token","LogInButtons","isSignUp","context","has"],"sourceRoot":""}